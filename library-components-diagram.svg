<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1400" height="1000" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#2c3e50">Library Management System - Component Diagram</text>
  <text x="700" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" fill="#666">PHP Backend with PostgreSQL Database</text>
  
  <!-- System Boundary -->
  <rect x="50" y="100" width="1300" height="800" fill="none" stroke="#2c3e50" stroke-width="3" stroke-dasharray="10,5" rx="15"/>
  <text x="700" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Library Management System</text>
  
  <!-- Presentation Layer -->
  <rect x="80" y="150" width="1240" height="140" fill="#e8f4fd" stroke="#3498db" stroke-width="2" rx="10"/>
  <text x="700" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Presentation Layer</text>
  
  <!-- Web Interface Component -->
  <rect x="120" y="200" width="180" height="70" fill="#ffffff" stroke="#3498db" stroke-width="2" rx="8"/>
  <rect x="135" y="210" width="25" height="18" fill="#3498db"/>
  <rect x="142" y="216" width="11" height="6" fill="#ffffff"/>
  <text x="210" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Web Interface</text>
  <text x="210" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">HTML/CSS/JavaScript</text>
  <text x="210" y="263" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Bootstrap, jQuery</text>
  
  <!-- Mobile App Component -->
  <rect x="330" y="200" width="180" height="70" fill="#ffffff" stroke="#3498db" stroke-width="2" rx="8"/>
  <rect x="345" y="210" width="25" height="18" fill="#3498db"/>
  <rect x="352" y="216" width="11" height="6" fill="#ffffff"/>
  <text x="420" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Mobile App Interface</text>
  <text x="420" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">React Native/Flutter</text>
  <text x="420" y="263" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">REST API Consumer</text>
  
  <!-- Admin Panel Component -->
  <rect x="540" y="200" width="180" height="70" fill="#ffffff" stroke="#3498db" stroke-width="2" rx="8"/>
  <rect x="555" y="210" width="25" height="18" fill="#3498db"/>
  <rect x="562" y="216" width="11" height="6" fill="#ffffff"/>
  <text x="630" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Admin Panel</text>
  <text x="630" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">PHP Views/Templates</text>
  <text x="630" y="263" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Twig/Blade Templates</text>
  
  <!-- API Gateway Component -->
  <rect x="750" y="200" width="180" height="70" fill="#ffffff" stroke="#3498db" stroke-width="2" rx="8"/>
  <rect x="765" y="210" width="25" height="18" fill="#3498db"/>
  <rect x="772" y="216" width="11" height="6" fill="#ffffff"/>
  <text x="840" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">API Gateway</text>
  <text x="840" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">RESTful API Endpoint</text>
  <text x="840" y="263" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Rate Limiting & Auth</text>
  
  <!-- Reporting Interface -->
  <rect x="960" y="200" width="180" height="70" fill="#ffffff" stroke="#3498db" stroke-width="2" rx="8"/>
  <rect x="975" y="210" width="25" height="18" fill="#3498db"/>
  <rect x="982" y="216" width="11" height="6" fill="#ffffff"/>
  <text x="1050" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Reporting Interface</text>
  <text x="1050" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Charts & Analytics</text>
  <text x="1050" y="263" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">PDF/Excel Export</text>
  
  <!-- Business Logic Layer -->
  <rect x="80" y="320" width="1240" height="200" fill="#e8f6f0" stroke="#27ae60" stroke-width="2" rx="10"/>
  <text x="700" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Business Logic Layer (PHP 8.2)</text>
  
  <!-- Authentication Service -->
  <rect x="120" y="370" width="160" height="90" fill="#ffffff" stroke="#27ae60" stroke-width="2" rx="8"/>
  <rect x="135" y="380" width="25" height="18" fill="#27ae60"/>
  <rect x="142" y="386" width="11" height="6" fill="#ffffff"/>
  <text x="200" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Authentication</text>
  <text x="200" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Service</text>
  <text x="200" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">JWT Token Management</text>
  <text x="200" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Session Handling</text>
  
  <!-- Book Management Service -->
  <rect x="300" y="370" width="160" height="90" fill="#ffffff" stroke="#27ae60" stroke-width="2" rx="8"/>
  <rect x="315" y="380" width="25" height="18" fill="#27ae60"/>
  <rect x="322" y="386" width="11" height="6" fill="#ffffff"/>
  <text x="380" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Book Management</text>
  <text x="380" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Service</text>
  <text x="380" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">CRUD Operations</text>
  <text x="380" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Search & Filter</text>
  
  <!-- Member Management Service -->
  <rect x="480" y="370" width="160" height="90" fill="#ffffff" stroke="#27ae60" stroke-width="2" rx="8"/>
  <rect x="495" y="380" width="25" height="18" fill="#27ae60"/>
  <rect x="502" y="386" width="11" height="6" fill="#ffffff"/>
  <text x="560" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Member Management</text>
  <text x="560" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Service</text>
  <text x="560" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Registration & Profile</text>
  <text x="560" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Member Validation</text>
  
  <!-- Loan Management Service -->
  <rect x="660" y="370" width="160" height="90" fill="#ffffff" stroke="#27ae60" stroke-width="2" rx="8"/>
  <rect x="675" y="380" width="25" height="18" fill="#27ae60"/>
  <rect x="682" y="386" width="11" height="6" fill="#ffffff"/>
  <text x="740" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Loan Management</text>
  <text x="740" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Service</text>
  <text x="740" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Borrow & Return</text>
  <text x="740" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Due Date Management</text>
  
  <!-- Notification Service -->
  <rect x="840" y="370" width="160" height="90" fill="#ffffff" stroke="#27ae60" stroke-width="2" rx="8"/>
  <rect x="855" y="380" width="25" height="18" fill="#27ae60"/>
  <rect x="862" y="386" width="11" height="6" fill="#ffffff"/>
  <text x="920" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Notification</text>
  <text x="920" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Service</text>
  <text x="920" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Email & SMS</text>
  <text x="920" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Push Notifications</text>
  
  <!-- Reporting Service -->
  <rect x="1020" y="370" width="160" height="90" fill="#ffffff" stroke="#27ae60" stroke-width="2" rx="8"/>
  <rect x="1035" y="380" width="25" height="18" fill="#27ae60"/>
  <rect x="1042" y="386" width="11" height="6" fill="#ffffff"/>
  <text x="1100" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Reporting</text>
  <text x="1100" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c3e50">Service</text>
  <text x="1100" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Analytics & Statistics</text>
  <text x="1100" y="448" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Data Visualization</text>
  
  <!-- Data Access Layer -->
  <rect x="80" y="550" width="1240" height="140" fill="#fdf2e9" stroke="#e67e22" stroke-width="2" rx="10"/>
  <text x="700" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Data Access Layer</text>
  
  <!-- Database Abstraction -->
  <rect x="150" y="600" width="180" height="70" fill="#ffffff" stroke="#e67e22" stroke-width="2" rx="8"/>
  <rect x="165" y="610" width="25" height="18" fill="#e67e22"/>
  <rect x="172" y="616" width="11" height="6" fill="#ffffff"/>
  <text x="240" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Database Abstraction</text>
  <text x="240" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">PDO Connection</text>
  <text x="240" y="663" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Query Builder</text>
  
  <!-- ORM Component -->
  <rect x="360" y="600" width="180" height="70" fill="#ffffff" stroke="#e67e22" stroke-width="2" rx="8"/>
  <rect x="375" y="610" width="25" height="18" fill="#e67e22"/>
  <rect x="382" y="616" width="11" height="6" fill="#ffffff"/>
  <text x="450" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">ORM Layer</text>
  <text x="450" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Eloquent/Doctrine</text>
  <text x="450" y="663" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Active Record Pattern</text>
  
  <!-- Connection Pool -->
  <rect x="570" y="600" width="180" height="70" fill="#ffffff" stroke="#e67e22" stroke-width="2" rx="8"/>
  <rect x="585" y="610" width="25" height="18" fill="#e67e22"/>
  <rect x="592" y="616" width="11" height="6" fill="#ffffff"/>
  <text x="660" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Connection Pool</text>
  <text x="660" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Connection Management</text>
  <text x="660" y="663" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Load Balancing</text>
  
  <!-- Cache Component -->
  <rect x="780" y="600" width="180" height="70" fill="#ffffff" stroke="#e67e22" stroke-width="2" rx="8"/>
  <rect x="795" y="610" width="25" height="18" fill="#e67e22"/>
  <rect x="802" y="616" width="11" height="6" fill="#ffffff"/>
  <text x="870" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Cache Layer</text>
  <text x="870" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Redis/Memcached</text>
  <text x="870" y="663" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Session Storage</text>
  
  <!-- Data Migration -->
  <rect x="990" y="600" width="180" height="70" fill="#ffffff" stroke="#e67e22" stroke-width="2" rx="8"/>
  <rect x="1005" y="610" width="25" height="18" fill="#e67e22"/>
  <rect x="1012" y="616" width="11" height="6" fill="#ffffff"/>
  <text x="1080" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Migration Tools</text>
  <text x="1080" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Schema Management</text>
  <text x="1080" y="663" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Version Control</text>
  
  <!-- Database Layer -->
  <rect x="300" y="720" width="800" height="120" fill="#f4ecf7" stroke="#8e44ad" stroke-width="2" rx="10"/>
  <text x="700" y="750" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Database Layer</text>
  
  <!-- PostgreSQL Database -->
  <rect x="380" y="770" width="250" height="50" fill="#ffffff" stroke="#8e44ad" stroke-width="2" rx="8"/>
  <circle cx="410" cy="795" r="12" fill="#8e44ad"/>
  <rect x="405" y="790" width="10" height="10" fill="#ffffff"/>
  <text x="505" y="800" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">PostgreSQL 15.x</text>
  <text x="505" y="815" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">Primary Database</text>
  
  <!-- Database Schemas -->
  <rect x="670" y="770" width="250" height="50" fill="#ffffff" stroke="#8e44ad" stroke-width="2" rx="8"/>
  <circle cx="700" cy="795" r="12" fill="#8e44ad"/>
  <rect x="695" y="790" width="10" height="10" fill="#ffffff"/>
  <text x="795" y="800" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">Database Schemas</text>
  <text x="795" y="815" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">books, members, loans, users</text>
  
  <!-- Connections/Dependencies -->
  
  <!-- Presentation to Business Logic -->
  <line x1="210" y1="270" x2="200" y2="370" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="420" y1="270" x2="380" y2="370" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="630" y1="270" x2="560" y2="370" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="840" y1="270" x2="740" y2="370" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1050" y1="270" x2="920" y2="370" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1050" y1="270" x2="1100" y2="370" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Business Logic to Data Access -->
  <line x1="200" y1="460" x2="240" y2="600" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="380" y1="460" x2="450" y2="600" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="560" y1="460" x2="660" y2="600" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="740" y1="460" x2="870" y2="600" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="920" y1="460" x2="870" y2="600" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1100" y1="460" x2="1080" y2="600" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Data Access to Database -->
  <line x1="450" y1="670" x2="505" y2="770" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="660" y1="670" x2="505" y2="770" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="870" y1="670" x2="795" y2="770" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1080" y1="670" x2="795" y2="770" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="50" y="920" width="600" height="70" fill="#ffffff" stroke="#bdc3c7" stroke-width="2" rx="8"/>
  <text x="350" y="945" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">Component Legend</text>
  
  <!-- Component Example -->
  <rect x="70" y="955" width="60" height="25" fill="#e8f4fd" stroke="#3498db" stroke-width="1" rx="3"/>
  <rect x="75" y="960" width="12" height="8" fill="#3498db"/>
  <text x="140" y="970" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Component</text>
  
  <!-- Dependency Arrow -->
  <line x1="220" y1="967" x2="270" y2="967" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="290" y="972" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Dependency</text>
  
  <!-- Layer Colors -->
  <rect x="370" y="955" width="20" height="12" fill="#e8f4fd"/>
  <text x="400" y="963" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Presentation</text>
  
  <rect x="470" y="955" width="20" height="12" fill="#e8f6f0"/>
  <text x="500" y="963" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Business Logic</text>
  
  <rect x="580" y="955" width="20" height="12" fill="#fdf2e9"/>
  <text x="610" y="963" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Data Access</text>
  
  <!-- Tech Stack Info -->
  <rect x="700" y="920" width="650" height="70" fill="#f0f8ff" stroke="#3498db" stroke-width="2" rx="8"/>
  <text x="1025" y="945" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">Technology Stack</text>
  
  <text x="720" y="965" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">• PHP 8.2+ with Composer</text>
  <text x="1020" y="965" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">• PostgreSQL 15.x Database</text>
  <text x="720" y="980" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">• Laravel/Symfony Framework</text>
  <text x="1020" y="980" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">• Redis Cache & Session Store</text>
  
</svg>
