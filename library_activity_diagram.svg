<svg viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1600" height="1200" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="800" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#2c3e50">Book Borrowing Process - Activity Diagram</text>
  
  <!-- Swimlane Headers -->
  <rect x="50" y="80" width="200" height="60" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="150" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">Member</text>
  
  <rect x="250" y="80" width="200" height="60" fill="#27ae60" stroke="#2c3e50" stroke-width="2"/>
  <text x="350" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">System</text>
  
  <rect x="450" y="80" width="200" height="60" fill="#e67e22" stroke="#2c3e50" stroke-width="2"/>
  <text x="550" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">Database</text>
  
  <rect x="650" y="80" width="200" height="60" fill="#8e44ad" stroke="#2c3e50" stroke-width="2"/>
  <text x="750" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">Librarian</text>
  
  <rect x="850" y="80" width="200" height="60" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
  <text x="950" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">Notification</text>
  
  <!-- Swimlane Vertical Lines -->
  <line x1="250" y1="140" x2="250" y2="1100" stroke="#2c3e50" stroke-width="2"/>
  <line x1="450" y1="140" x2="450" y2="1100" stroke="#2c3e50" stroke-width="2"/>
  <line x1="650" y1="140" x2="650" y2="1100" stroke="#2c3e50" stroke-width="2"/>
  <line x1="850" y1="140" x2="850" y2="1100" stroke="#2c3e50" stroke-width="2"/>
  <line x1="1050" y1="140" x2="1050" y2="1100" stroke="#2c3e50" stroke-width="2"/>
  
  <!-- Start Node -->
  <circle cx="150" cy="180" r="15" fill="#2c3e50"/>
  
  <!-- Activity 1: Member Login -->
  <rect x="90" y="220" width="120" height="40" rx="20" fill="#e8f4fd" stroke="#3498db" stroke-width="2"/>
  <text x="150" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Login to System</text>
  
  <!-- Activity 2: System Validate -->
  <rect x="290" y="280" width="120" height="40" rx="20" fill="#e8f6f0" stroke="#27ae60" stroke-width="2"/>
  <text x="350" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Validate Login</text>
  
  <!-- Decision Diamond: Valid Login? -->
  <polygon points="350,340 380,360 350,380 320,360" fill="#fff3cd" stroke="#f39c12" stroke-width="2"/>
  <text x="350" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2c3e50">Valid?</text>
  
  <!-- Activity 3: Search Book -->
  <rect x="90" y="420" width="120" height="40" rx="20" fill="#e8f4fd" stroke="#3498db" stroke-width="2"/>
  <text x="150" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Search Book</text>
  
  <!-- Activity 4: Query Database -->
  <rect x="490" y="420" width="120" height="40" rx="20" fill="#fdf2e9" stroke="#e67e22" stroke-width="2"/>
  <text x="550" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Query Book Data</text>
  
  <!-- Activity 5: Display Results -->
  <rect x="290" y="480" width="120" height="40" rx="20" fill="#e8f6f0" stroke="#27ae60" stroke-width="2"/>
  <text x="350" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Display Results</text>
  
  <!-- Activity 6: Select Book -->
  <rect x="90" y="540" width="120" height="40" rx="20" fill="#e8f4fd" stroke="#3498db" stroke-width="2"/>
  <text x="150" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Select Book</text>
  
  <!-- Decision Diamond: Book Available? -->
  <polygon points="350,600 380,620 350,640 320,620" fill="#fff3cd" stroke="#f39c12" stroke-width="2"/>
  <text x="350" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#2c3e50">Available?</text>
  <text x="350" y="628" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#2c3e50"></text>
  
  <!-- Activity 7: Request Loan -->
  <rect x="90" y="680" width="120" height="40" rx="20" fill="#e8f4fd" stroke="#3498db" stroke-width="2"/>
  <text x="150" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Request Loan</text>
  
  <!-- Activity 8: Process Loan -->
  <rect x="290" y="680" width="120" height="40" rx="20" fill="#e8f6f0" stroke="#27ae60" stroke-width="2"/>
  <text x="350" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Process Loan</text>
  
  <!-- Activity 9: Update Database -->
  <rect x="490" y="680" width="120" height="40" rx="20" fill="#fdf2e9" stroke="#e67e22" stroke-width="2"/>
  <text x="550" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Update Records</text>
  
  <!-- Activity 10: Librarian Approval -->
  <rect x="690" y="740" width="120" height="40" rx="20" fill="#f4ecf7" stroke="#8e44ad" stroke-width="2"/>
  <text x="750" y="765" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Approve Loan</text>
  
  <!-- Activity 11: Send Notification -->
  <rect x="890" y="800" width="120" height="40" rx="20" fill="#fdeaea" stroke="#e74c3c" stroke-width="2"/>
  <text x="950" y="825" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Send Confirmation</text>
  
  <!-- Activity 12: Generate Loan Record -->
  <rect x="290" y="860" width="120" height="40" rx="20" fill="#e8f6f0" stroke="#27ae60" stroke-width="2"/>
  <text x="350" y="885" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Generate Record</text>
  
  <!-- Error Activity: Show Error -->
  <rect x="1080" y="280" width="120" height="40" rx="20" fill="#fdeaea" stroke="#e74c3c" stroke-width="2"/>
  <text x="1140" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Show Error</text>
  
  <!-- Error Activity: Book Not Available -->
  <rect x="1080" y="600" width="120" height="40" rx="20" fill="#fdeaea" stroke="#e74c3c" stroke-width="2"/>
  <text x="1140" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Book Unavailable</text>
  
  <!-- End Node -->
  <circle cx="350" cy="950" r="15" fill="#2c3e50"/>
  <circle cx="350" cy="950" r="10" fill="#f8f9fa"/>
  
  <!-- Error End Node -->
  <circle cx="1140" cy="680" r="15" fill="#2c3e50"/>
  <circle cx="1140" cy="680" r="10" fill="#f8f9fa"/>
  
  <!-- Arrows and Flow -->
  
  <!-- Start to Login -->
  <line x1="150" y1="195" x2="150" y2="220" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Login to Validate -->
  <line x1="210" y1="240" x2="290" y2="300" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Validate to Decision -->
  <line x1="350" y1="320" x2="350" y2="340" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Decision Yes to Search -->
  <line x1="320" y1="360" x2="150" y2="420" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="220" y="385" font-family="Arial, sans-serif" font-size="12" fill="#27ae60" font-weight="bold">Yes</text>
  
  <!-- Decision No to Error -->
  <line x1="380" y1="360" x2="1080" y2="300" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="700" y="325" font-family="Arial, sans-serif" font-size="12" fill="#e74c3c" font-weight="bold">No</text>
  
  <!-- Search to Query DB -->
  <line x1="210" y1="440" x2="490" y2="440" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Query DB to Display -->
  <line x1="490" y1="440" x2="410" y2="500" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Display to Select -->
  <line x1="290" y1="500" x2="150" y2="540" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Select to Available Decision -->
  <line x1="210" y1="560" x2="320" y2="620" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Available Yes to Request -->
  <line x1="320" y1="620" x2="150" y2="680" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="220" y="645" font-family="Arial, sans-serif" font-size="12" fill="#27ae60" font-weight="bold">Yes</text>
  
  <!-- Available No to Error -->
  <line x1="380" y1="620" x2="1080" y2="620" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="700" y="615" font-family="Arial, sans-serif" font-size="12" fill="#e74c3c" font-weight="bold">No</text>
  
  <!-- Request to Process -->
  <line x1="210" y1="700" x2="290" y2="700" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Process to Update DB -->
  <line x1="410" y1="700" x2="490" y2="700" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Update DB to Librarian -->
  <line x1="550" y1="720" x2="750" y2="740" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Librarian to Notification -->
  <line x1="810" y1="760" x2="890" y2="820" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Notification to Generate -->
  <line x1="890" y1="820" x2="410" y2="880" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Generate to End -->
  <line x1="350" y1="900" x2="350" y2="935" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Error paths to end -->
  <line x1="1140" y1="320" x2="1140" y2="665" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="1140" y1="640" x2="1140" y2="665" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="1250" y="200" width="300" height="350" fill="#ffffff" stroke="#bdc3c7" stroke-width="2" rx="8"/>
  <text x="1400" y="230" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">Legend</text>
  
  <!-- Activity Example -->
  <rect x="1270" y="250" width="80" height="25" rx="12" fill="#e8f4fd" stroke="#3498db" stroke-width="1"/>
  <text x="1360" y="265" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Activity</text>
  
  <!-- Decision Example -->
  <polygon points="1290,290 1310,305 1290,320 1270,305" fill="#fff3cd" stroke="#f39c12" stroke-width="1"/>
  <text x="1360" y="308" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Decision</text>
  
  <!-- Start/End Example -->
  <circle cx="1285" cy="340" r="8" fill="#2c3e50"/>
  <text x="1360" y="345" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Start/End</text>
  
  <!-- Flow Example -->
  <line x1="1270" y1="365" x2="1320" y2="365" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1360" y="370" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Flow</text>
  
  <!-- Success Flow -->
  <line x1="1270" y1="390" x2="1320" y2="390" stroke="#27ae60" stroke-width="2"/>
  <text x="1360" y="395" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Success Path</text>
  
  <!-- Error Flow -->
  <line x1="1270" y1="415" x2="1320" y2="415" stroke="#e74c3c" stroke-width="2"/>
  <text x="1360" y="420" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Error Path</text>
  
  <!-- Swimlane Colors -->
  <text x="1270" y="450" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Swimlane Actors:</text>
  
  <rect x="1270" y="460" width="20" height="15" fill="#3498db"/>
  <text x="1300" y="472" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Member</text>
  
  <rect x="1370" y="460" width="20" height="15" fill="#27ae60"/>
  <text x="1400" y="472" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">System</text>
  
  <rect x="1270" y="485" width="20" height="15" fill="#e67e22"/>
  <text x="1300" y="497" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Database</text>
  
  <rect x="1370" y="485" width="20" height="15" fill="#8e44ad"/>
  <text x="1400" y="497" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Librarian</text>
  
  <rect x="1270" y="510" width="20" height="15" fill="#e74c3c"/>
  <text x="1300" y="522" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Notification</text>
  
</svg>